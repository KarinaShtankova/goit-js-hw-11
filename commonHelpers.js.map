{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst options = {\n  method: 'GET',\n};\n\nlet searchName = 'cat';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input'),\n    btn: document.querySelector('.btn'),\n  gallery: document.querySelector('.gallery')\n};\n\nrefs.input.addEventListener('input', onInputSearch);\nrefs.btn.addEventListener('click', onBtnSubmitClick);\n\nfunction onInputSearch(event) {\n  searchName = event.target.value;\n  // console.log(event.target.value);\n}\n\nfunction onBtnSubmitClick(event) {\n  event.preventDefault();\n\n  fetch(\n    `https://pixabay.com/api/?key=41464538-044fa7fe64ee4a60fb4972757&q=${searchName}&image_type=photo&orientation=horizontal&safesearch=true`,\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (!data.total) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        // window.alert('Sorry, there are no images matching your search query. Please try again!');\n      } else {\n        console.log(data.hits);\n        const imagesData = data.hits;\n        const images = imagesData.map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            views,\n            comments,\n              downloads,\n            likes\n          }) => {\n            return {\n              preview: webformatURL,\n              original: largeImageURL,\n              description: tags,\n              views,\n              comments,\n                downloads,\n              likes\n            };\n          }\n        );\n\n        const galleryString = images.reduce(\n          (\n            html,\n            { preview, original, description, views, comments, downloads, likes }\n          ) => {\n            return (\n              html +\n              `        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=${original} ></a>\n        <img\n            class=\"gallery-image\"\n            src=${preview}\n            alt=${description}\n            />\n\n          <ul class=\"desc\">\n            <li class=\"desc-item\">\n              <h2 class=\"desc-title\">likes</h2>\n              <p class=\"desc-text\">${likes}</p>\n            </li>\n            <li class=\"desc-item\">\n              <h2 class=\"desc-title\">views</h2>\n              <p class=\"desc-text\">${views}</p>\n            </li>\n            <li class=\"desc-item\">\n              <h2 class=\"desc-title\">comments</h2>\n              <p class=\"desc-text\">${comments}</p>\n            </li>\n            <li class=\"desc-item\">\n              <h2 class=\"desc-title\">downloads</h2>\n              <p class=\"desc-text\">${downloads}</p>\n            </li>\n          </ul>\n        </li>`\n            );\n          },\n          ''\n        );\nrefs.gallery.insertAdjacentHTML('afterbegin', galleryString)\n          \n          \n        console.log(images);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  refs.form.reset();\n}\n\n// const images = [\n//   {\n//     preview:\n//       `${webformatURL}`,\n//     original:\n//       `${largeImageURL}`,\n//     description: `${tags}`,\n//   },\n// ];\n\n// const galleryString = images.reduce(\n//   (html, { preview, original, description }) => {\n//     return (\n//       html +\n//       `        <li class=\"gallery-item\">\n//           <a class=\"gallery-link\" href=${original} ></a>\n//         <img\n//             class=\"gallery-image\"\n//             src=${preview}\n//             alt=${description}\n//             />\n\n//           <ul class=\"desc\">\n//             <li class=\"desc-item\">\n//               <h2 class=\"desc-title\">likes</h2>\n//               <p class=\"desc-text\">${tags}</p>\n//             </li>\n//             <li class=\"desc-item\">\n//               <h2 class=\"desc-title\">views</h2>\n//               <p class=\"desc-text\">${views}</p>\n//             </li>\n//             <li class=\"desc-item\">\n//               <h2 class=\"desc-title\">comments</h2>\n//               <p class=\"desc-text\">${comments}</p>\n//             </li>\n//             <li class=\"desc-item\">\n//               <h2 class=\"desc-title\">downloads</h2>\n//               <p class=\"desc-text\">${downloads}</p>\n//             </li>\n//           </ul>\n//         </li>`\n//     );\n//   },\n//   ''\n// );\n"],"names":["options","searchName","refs","onInputSearch","onBtnSubmitClick","event","response","data","iziToast","images","webformatURL","largeImageURL","tags","views","comments","downloads","likes","galleryString","html","preview","original","description","error"],"mappings":"svBAKA,MAAMA,EAAU,CACd,OAAQ,KACV,EAEA,IAAIC,EAAa,MAEjB,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACpC,IAAK,SAAS,cAAc,MAAM,EACpC,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEAA,EAAK,MAAM,iBAAiB,QAASC,CAAa,EAClDD,EAAK,IAAI,iBAAiB,QAASE,CAAgB,EAEnD,SAASD,EAAcE,EAAO,CAC5BJ,EAAaI,EAAM,OAAO,KAE5B,CAEA,SAASD,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MACE,qEAAqEJ,4DACrED,CACD,EACE,KAAKM,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,MACRC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,MAEI,CACL,QAAQ,IAAID,EAAK,IAAI,EAErB,MAAME,EADaF,EAAK,KACE,IACxB,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,SAAAC,EACE,UAAAC,EACF,MAAAC,CACZ,KACmB,CACL,QAASN,EACT,SAAUC,EACV,YAAaC,EACb,MAAAC,EACA,SAAAC,EACE,UAAAC,EACF,MAAAC,CACd,EAEA,EAEcC,EAAgBR,EAAO,OAC3B,CACES,EACA,CAAE,QAAAC,EAAS,SAAAC,EAAU,YAAAC,EAAa,MAAAR,EAAO,SAAAC,EAAU,UAAAC,EAAW,MAAAC,CAAO,IAGnEE,EACA;AAAA,yCAC2BE;AAAA;AAAA;AAAA,kBAGvBD;AAAA,kBACAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMmBL;AAAA;AAAA;AAAA;AAAA,qCAIAH;AAAA;AAAA;AAAA;AAAA,qCAIAC;AAAA;AAAA;AAAA;AAAA,qCAIAC;AAAA;AAAA;AAAA,eAM3B,EACV,EACAb,EAAK,QAAQ,mBAAmB,aAAce,CAAa,EAGnD,QAAQ,IAAIR,CAAM,CACnB,CACP,CAAK,EACA,MAAMa,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHpB,EAAK,KAAK,OACZ"}